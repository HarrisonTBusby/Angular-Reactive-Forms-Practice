<div class="container">
  <fieldset>
    <legend class="mt-5">User Information Form</legend>
    <form [formGroup]="userForm" (ngSubmit)="submitForm()">
      <div class="form-group mt-3">
        <label for="fName">First Name</label>
        <input
          type="text"
          class="form-control"
          id="fName"
          formControlName="fName"
          required
        />
        <small class="text-danger" *ngIf="userForm.get('fName')?.invalid && userForm.get('fName')?.dirty">Please enter a valid first name</small>
      </div>
      <div class="form-group mt-3">
        <label for="lName">Last Name</label>
        <input
          type="text"
          class="form-control "
          id="lName"
          formControlName="lName"
          required
        />
        <small class="text-danger" *ngIf="userForm.get('lName')?.invalid && userForm.get('lName')?.dirty">Please enter a valid last name</small>
      </div>
      <div class="form-group mt-3">
        <label for="email">Email</label>
        <input
          type="text"
          class="form-control"
          id="email"
          formControlName="email"
          required
        />
        <small class="text-danger" *ngIf="userForm.get('email')?.invalid && userForm.get('email')?.dirty">Please enter a valid email</small>
      </div>
      <div class="form-group mt-3">
        <label for="address">Address</label>
        <input
          type="text"
          class="form-control"
          id="address"
          formControlName="address"
          required
        />
        <small class="text-danger" *ngIf="userForm.get('address')?.invalid && userForm.get('address')?.dirty">Please enter an address</small>
      </div>
      <div class="form-group mt-3">
        <label for="email">City</label>
        <input
          type="text"
          class="form-control"
          id="city"
          formControlName="city"
          required
        />
        <small class="text-danger" *ngIf="userForm.get('city')?.invalid && userForm.get('city')?.dirty">Please enter an valid city</small>
      </div>
      <div class="form-group mt-3">
        <label for="zipcode">Zip Code</label>
        <input
          type="text"
          class="form-control"
          id="zipcode"
          placeholder="i.e. 55555"
          formControlName="zipcode"
          maxlength="5"
          required
        />
        <small class="text-danger" *ngIf="userForm.get('zipcode')?.invalid && userForm.get('zipcode')?.dirty">Please enter a zipcode</small>
      </div>
      <div class="form-group mt-3">
        <label for="phonenumber">Phone Number</label>
        <input
          type="text"
          class="form-control"
          id="phonenumber"
          placeholder="i.e. 555-555-5555"
          maxlength="12"
          formControlName="phonenumber"
          required
        />
        <small class="text-danger" *ngIf="userForm.get('phonenumber')?.invalid && userForm.get('phonenumber')?.dirty">Please enter a valid Phone Number</small>        
      </div>

      <!-- Dropdown -->
      <div class="row mt-3">
        <label for="state">States</label>
        <mat-form-field>
          <mat-label>States</mat-label>
          <mat-select formControlName="state" id="state">
            <mat-option
              *ngFor="let data of state"
              [value]="data.value"
              type="button"
            >
              {{ data.viewValue }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div class="mt-3" aria-required="true">
        <label for="cereal">Cereals</label>
        <section class="example-section">
          <span class="example-list-section">
            <mat-checkbox id='cereal' *ngFor="let data of cereal" type="button" (click)="toggleCerealSelection(data.id)" [checked]="isCerealSelected(data.id)">
              {{ data.name }}
            </mat-checkbox>
            <div *ngIf="isCerealInvalid()" class="text-danger mt-3">Required</div>
          </span>
        </section>
      </div>

      <button
        type="submit"
        class="btn btn-primary mt-5"
        [disabled]="!userForm.valid"
        (click)="submitForm()"
      >
        Submit
      </button>
    </form>
  </fieldset>
</div>
